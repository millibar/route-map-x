import { convertDayType } from '../src/day.js';

test.each`
    today                                   | holidays                                     | expected    | memo
    ${new Date('2022-09-05T08:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'平日'}   | ${'月 8:00'}
    ${new Date('2022-09-06T08:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'平日'}   | ${'火 8:00'}
    ${new Date('2022-09-07T08:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'平日'}   | ${'水 8:00'}
    ${new Date('2022-09-08T08:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'平日'}   | ${'木 8:00'}
    ${new Date('2022-09-09T08:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'平日'}   | ${'金 8:00'}
    ${new Date('2022-09-10T00:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'平日'}   | ${'土 0:00'}
    ${new Date('2022-09-10T04:59:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'平日'}   | ${'土 4:59'}
    ${new Date('2022-09-10T05:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'土日休'} | ${'土 5:00'}
    ${new Date('2022-09-10T08:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'土日休'} | ${'土 8:00'}
    ${new Date('2022-09-11T08:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'土日休'} | ${'日 8:00'}
    ${new Date('2022-09-12T04:59:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'土日休'} | ${'月 4:59'}
    ${new Date('2022-09-12T05:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'平日'}   | ${'月 5:00'}
    ${new Date('2023-10-10T12:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'平日'}   | ${'祝の年違い'}
    ${new Date('2022-10-10T01:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'土日休'} | ${'祝前日の日曜 25:00'}
    ${new Date('2022-10-10T12:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'土日休'} | ${'祝1 12:00'}
    ${new Date('2022-11-03T12:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'土日休'} | ${'祝2 12:00'}
    ${new Date('2022-11-23T04:59:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'平日'}   | ${'祝3 4:59'}
    ${new Date('2022-11-23T05:00:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'土日休'} | ${'祝3 5:00'}
    ${new Date('2022-11-24T04:59:00+0900')} | ${["2022/10/10", "2022/11/3", "2022/11/23"]} | ${'土日休'} | ${'祝3 28:59'}
    ${new Date('2022-11-23T12:00:00+0900')} | ${[]}                                        | ${'平日'}   | ${'祝なし'}
    ${new Date('2022-11-26T12:00:00+0900')} | ${[]}                                        | ${'土日休'} | ${'祝なし'}
`('convertDayType($memo) => $expected', ({today, holidays, expected}) => {
    expect(convertDayType(today, holidays)).toBe(expected);
});